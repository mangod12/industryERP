/* ==========================================================
   THEME WEM - Variables + compat AdminLTE (Bootstrap 4)
   Objectif: tes --bs-* (BS5) pilotent aussi .bg-primary etc.
   ========================================================== */

/* -----------------------------
   Bootstrap 5 variables (LIGHT)
   ----------------------------- */
   :root,
   [data-bs-theme=light] {
     --bs-blue: #0366d6;
     --bs-indigo: #5b21b6;
     --bs-purple: #7c3aed;
     --bs-pink: #ff7cc8;
     --bs-red: #c0392b;
     --bs-orange: #f97316;
     --bs-yellow: #f59e0b;
     --bs-green: #218c74;
     --bs-teal: #14b8a6;
     --bs-cyan: #06b6d4;
     --bs-black: #000;
     --bs-white: #fff;
     --bs-gray: #64748b;
     --bs-gray-dark: #334155;
     --bs-gray-100: #f8fafc;
     --bs-gray-200: #e2e8f0;
     --bs-gray-300: #cbd5e1;
     --bs-gray-400: #94a3b8;
     --bs-gray-500: #64748b;
     --bs-gray-600: #475569;
     --bs-gray-700: #334155;
     --bs-gray-800: #1e293b;
     --bs-gray-900: #0f172a;
   
     --bs-primary: #0366d6;
     --bs-secondary: #64748b;
     --bs-success: #218c74;
     --bs-info: #06b6d4;
     --bs-warning: #f59e0b;
     --bs-danger: #c0392b;
     --bs-light: #f8fafc;
     --bs-dark: #0f172a;
   
     --bs-primary-rgb: 3, 102, 214;
     --bs-secondary-rgb: 100, 116, 139;
     --bs-success-rgb: 33, 140, 116;
     --bs-info-rgb: 6, 182, 212;
     --bs-warning-rgb: 245, 158, 11;
     --bs-danger-rgb: 192, 57, 43;
     --bs-light-rgb: 248, 250, 252;
     --bs-dark-rgb: 15, 23, 42;
   
     --bs-primary-text-emphasis: #012a56;
     --bs-secondary-text-emphasis: #28323c;
     --bs-success-text-emphasis: #0d382e;
     --bs-info-text-emphasis: #024956;
     --bs-warning-text-emphasis: #623f04;
     --bs-danger-text-emphasis: #4d1712;
   
     --bs-primary-bg-subtle: #cce0f7;
     --bs-secondary-bg-subtle: #e2e6eb;
     --bs-success-bg-subtle: #d0ebe5;
     --bs-info-bg-subtle: #ccf1f8;
     --bs-warning-bg-subtle: #fde8cd;
     --bs-danger-bg-subtle: #f4d7d5;
   
     --bs-primary-border-subtle: #99c1ee;
     --bs-secondary-border-subtle: #c4ccd6;
     --bs-success-border-subtle: #a1d7cb;
     --bs-info-border-subtle: #99e3f1;
     --bs-warning-border-subtle: #fbd19b;
     --bs-danger-border-subtle: #e9afab;
   
     --bs-white-rgb: 255, 255, 255;
     --bs-black-rgb: 0, 0, 0;
   
     --bs-font-sans-serif: "Nunito", sans-serif;
     --bs-font-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
     --bs-gradient: linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0));
   
     --bs-body-font-family: var(--bs-font-sans-serif);
     --bs-body-font-size: 0.9rem;
     --bs-body-font-weight: 400;
     --bs-body-line-height: 1.6;
     --bs-body-color: #0f172a;
     --bs-body-bg: #ffffff;
   
     --bs-link-color: #0366d6;
     --bs-link-hover-color: #024a9e;
   
     --bs-border-width: 1px;
     --bs-border-style: solid;
     --bs-border-color: #e2e8f0;
     --bs-border-radius: 0.375rem;
   
     --bs-box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
   
     --bs-focus-ring-width: 0.25rem;
     --bs-focus-ring-opacity: 0.25;
     --bs-focus-ring-color: rgba(3, 102, 214, 0.25);
   
     --bs-form-valid-color: #218c74;
     --bs-form-valid-border-color: #218c74;
     --bs-form-invalid-color: #c0392b;
     --bs-form-invalid-border-color: #c0392b;
   
     /* ------------------------------------------------
        WEM mapping (AdminLTE/BS4 compatibility variables)
        ------------------------------------------------ */
     --wem-primary: var(--bs-primary);
     --wem-secondary: var(--bs-secondary);
     --wem-success: var(--bs-success);
     --wem-info: var(--bs-info);
     --wem-warning: var(--bs-warning);
     --wem-danger: var(--bs-danger);
     --wem-light: var(--bs-light);
     --wem-dark: var(--bs-dark);
   
     --wem-body-bg: var(--bs-body-bg);
     --wem-body-color: var(--bs-body-color);
     --wem-link: var(--bs-link-color);
     --wem-link-hover: var(--bs-link-hover-color);
   }
   
   /* -----------------------------
      Bootstrap 5 variables (DARK)
      ----------------------------- */
   [data-bs-theme=dark] {
     color-scheme: dark;
   
     --bs-body-color: #e2e8f0;
     --bs-body-bg: #0f172a;
   
     --bs-secondary-color: rgba(226, 232, 240, 0.75);
     --bs-secondary-bg: #1e293b;
     --bs-tertiary-bg: #334155;
   
     --bs-primary-text-emphasis: #93c5fd;
     --bs-secondary-text-emphasis: #94a3b8;
     --bs-success-text-emphasis: #6ee7b7;
     --bs-info-text-emphasis: #67e8f9;
     --bs-warning-text-emphasis: #fcd34d;
     --bs-danger-text-emphasis: #fca5a5;
   
     --bs-primary-bg-subtle: #011429;
     --bs-secondary-bg-subtle: #14181d;
     --bs-success-bg-subtle: #071c17;
     --bs-info-bg-subtle: #01252b;
     --bs-warning-bg-subtle: #311f02;
     --bs-danger-bg-subtle: #260b09;
   
     --bs-primary-border-subtle: #013d7b;
     --bs-secondary-border-subtle: #3d495a;
     --bs-success-border-subtle: #155548;
     --bs-info-border-subtle: #046f82;
     --bs-warning-border-subtle: #925e07;
     --bs-danger-border-subtle: #73211c;
   
     --bs-link-color: #93c5fd;
     --bs-link-hover-color: #bfdbfe;
   
     --bs-border-color: #475569;
     --bs-border-color-translucent: rgba(255, 255, 255, 0.15);
   
     /* WEM mapping in dark */
     --wem-primary: var(--bs-primary);
     --wem-secondary: var(--bs-secondary);
     --wem-success: var(--bs-success);
     --wem-info: var(--bs-info);
     --wem-warning: var(--bs-warning);
     --wem-danger: var(--bs-danger);
     --wem-light: var(--bs-light);
     --wem-dark: var(--bs-dark);
   
     --wem-body-bg: var(--bs-body-bg);
     --wem-body-color: var(--bs-body-color);
     --wem-link: var(--bs-link-color);
     --wem-link-hover: var(--bs-link-hover-color);
   }
   
   /* ------------------------------------------------
      Legacy vars (BS4 style) - keep but mapped to BS5
      ------------------------------------------------ */
   :root {
     --blue: var(--bs-blue);
     --indigo: var(--bs-indigo);
     --purple: var(--bs-purple);
     --pink: var(--bs-pink);
     --red: var(--bs-red);
     --orange: var(--bs-orange);
     --yellow: var(--bs-yellow);
     --green: var(--bs-green);
     --teal: var(--bs-teal);
     --cyan: var(--bs-cyan);
     --white: var(--bs-white);
     --gray: var(--bs-gray);
     --gray-dark: var(--bs-gray-dark);
   
     --primary: var(--bs-primary);
     --secondary: var(--bs-secondary);
     --success: var(--bs-success);
     --info: var(--bs-info);
     --warning: var(--bs-warning);
     --danger: var(--bs-danger);
     --light: var(--bs-light);
     --dark: var(--bs-dark);
   
     --breakpoint-xs: 0;
     --breakpoint-sm: 576px;
     --breakpoint-md: 768px;
     --breakpoint-lg: 992px;
     --breakpoint-xl: 1200px;
   
     --font-family-sans-serif: "Source Sans Pro", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
       Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
     --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
   }
   
   /* ==========================================================
      IMPORTANT: Override AdminLTE/BS4 hardcoded colors
      (AdminLTE sets bg-* with hard values + !important)
      ========================================================== */
   
   body {
     background-color: var(--wem-body-bg) !important;
     color: var(--wem-body-color) !important;
   }
   
   a {
     color: var(--wem-link);
   }
   a:hover {
     color: var(--wem-link-hover);
   }
   
   /* Background helpers */
   .bg-primary, .bg-primary > a { background-color: var(--wem-primary) !important; color:#fff !important; }
   .bg-secondary, .bg-secondary > a { background-color: var(--wem-secondary) !important; color:#fff !important; }
   .bg-success, .bg-success > a { background-color: var(--wem-success) !important; color:#fff !important; }
   .bg-info, .bg-info > a { background-color: var(--wem-info) !important; color:#fff !important; }
   .bg-warning, .bg-warning > a { background-color: var(--wem-warning) !important; color:#111 !important; }
   .bg-danger, .bg-danger > a { background-color: var(--wem-danger) !important; color:#fff !important; }
   .bg-light, .bg-light > a { background-color: var(--wem-light) !important; color:#111 !important; }
   .bg-dark, .bg-dark > a { background-color: var(--wem-dark) !important; color:#fff !important; }
   
   /* Text helpers */
   .text-primary { color: var(--wem-primary) !important; }
   .text-secondary { color: var(--wem-secondary) !important; }
   .text-success { color: var(--wem-success) !important; }
   .text-info { color: var(--wem-info) !important; }
   .text-warning { color: var(--wem-warning) !important; }
   .text-danger { color: var(--wem-danger) !important; }
   .text-light { color: var(--wem-light) !important; }
   .text-dark { color: var(--wem-dark) !important; }
   
   /* Border helpers */
   .border-primary { border-color: var(--wem-primary) !important; }
   .border-secondary { border-color: var(--wem-secondary) !important; }
   .border-success { border-color: var(--wem-success) !important; }
   .border-info { border-color: var(--wem-info) !important; }
   .border-warning { border-color: var(--wem-warning) !important; }
   .border-danger { border-color: var(--wem-danger) !important; }
   .border-light { border-color: var(--wem-light) !important; }
   .border-dark { border-color: var(--wem-dark) !important; }
   
   /* Buttons */
   .btn-primary {
     background-color: var(--wem-primary) !important;
     border-color: var(--wem-primary) !important;
   }
   .btn-primary:hover,
   .btn-primary:focus {
     filter: brightness(0.92);
   }
   .btn-outline-primary {
     color: var(--wem-primary) !important;
     border-color: var(--wem-primary) !important;
   }
   .btn-outline-primary:hover {
     background-color: var(--wem-primary) !important;
     border-color: var(--wem-primary) !important;
     color: #fff !important;
   }
   
   /* AdminLTE "small-box" */
   .small-box.bg-primary { background-color: var(--wem-primary) !important; }
   .small-box.bg-success {
   